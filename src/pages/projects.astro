---
import { getCollection } from "astro:content";

import CardProject from "../components/CardProject.astro";
import Container from "../components/Container.astro";
import Layout from "../layouts/Layout.astro";
import TitleSection from "../components/ui/TitleSection.astro";

const projects = await getCollection('projects')
---


<Layout>
  <Container>
    <section class="pt-[120px]">
      <div class="text-center mb-16">
        <TitleSection title="Mis Proyectos" />
        <p class="text-lg text-gray-600 dark:text-text-secondary max-w-2xl mx-auto mb-8">
          Una colección de proyectos que muestran mis habilidades en el desarrollo full-stack, desde el concepto hasta la implementación.
        </p>
        <div class="w-24 h-px bg-gray-300 dark:bg-gray-700 mx-auto"></div>
      </div>
    </section>
    <section class="flex flex-wrap gap-6">
      {
        projects.map(project => {
          const { data, slug } = project
          const { description, technologies, title, githubUrl, date, image, demoUrl } = data
          return (
            <CardProject 
              title={title}
              description={description}
              image={image}
              githubUrl={githubUrl}
              demoUrl={demoUrl}
              technologies={technologies}          
              slug={slug}  
            />
          )
        })
      }
    </section>
  </Container>
</Layout>